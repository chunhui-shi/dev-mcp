# fed.devtest zone — served entirely by this container
# All queries for fed.devtest are answered locally; everything else
# is forwarded to upstream resolvers.

no-resolv
log-queries

domain=fed.devtest
local=/fed.devtest/
expand-hosts

# ── A records ──────────────────────────────────────────────────────────────
address=/dns.fed.devtest/172.20.0.10
address=/freeipa.fed.devtest/172.20.0.11
address=/postgres.fed.devtest/172.20.0.12

# ── PTR records (reverse DNS — important for Kerberos) ────────────────────
ptr-record=10.0.20.172.in-addr.arpa.,dns.fed.devtest
ptr-record=11.0.20.172.in-addr.arpa.,freeipa.fed.devtest
ptr-record=12.0.20.172.in-addr.arpa.,postgres.fed.devtest

# ── Kerberos SRV records (client auto-discovery) ──────────────────────────
srv-host=_kerberos._udp.fed.devtest,freeipa.fed.devtest,88,0,100
srv-host=_kerberos._tcp.fed.devtest,freeipa.fed.devtest,88,0,100
srv-host=_kerberos-master._udp.fed.devtest,freeipa.fed.devtest,88,0,100
srv-host=_kerberos-master._tcp.fed.devtest,freeipa.fed.devtest,88,0,100
srv-host=_kpasswd._udp.fed.devtest,freeipa.fed.devtest,464,0,100
srv-host=_kpasswd._tcp.fed.devtest,freeipa.fed.devtest,464,0,100
srv-host=_ldap._tcp.fed.devtest,freeipa.fed.devtest,389,0,100
srv-host=_kerberos-adm._tcp.fed.devtest,freeipa.fed.devtest,749,0,100

# ── TXT record: Kerberos realm for domain ─────────────────────────────────
txt-record=_kerberos.fed.devtest,FED.DEVTEST

# ── Upstream forwarders for non-local queries ─────────────────────────────
server=8.8.8.8
server=8.8.4.4
